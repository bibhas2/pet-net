<div class="card" [ngClass]="{'featured-pet': pet.featured}">
    <img class="banner-img" [src]="pet.imageURL"/>
    <label class="name">{{pet.name}}</label>
    <label>Age</label>
    <p>{{pet.age}}</p>
    <label>House Trained</label>
    <p>{{pet.houseTrained ? "Yes" : "No"}}</p>
    <label>About {{pet.name}}</label>
    <p>{{pet.description}}</p>
    <img *ngIf="pet.featured" class="featured-img" src="/assets/red-ribbon.svg"/>
    <img class="favorite-img" [src]="getFavoriteIcon()" (click)="raiseFavoriteEvent()"/>
    <button class="call-button" (click)="showPopup = true">
        Ask about {{pet.name}}
    </button>
</div>

<div class="popup" *ngIf="showPopup">
    <form [formGroup]="adoptionForm" (submit)="handleSubmit()">
        <div class="close"><span (click)="showPopup = false">&times;</span></div>
        <label>Name</label>
        <input type="text" formControlName="clientName"/>
        <p class="error" *ngIf="adoptionForm.controls.clientName.invalid && adoptionForm.controls.clientName.touched">Name must be minimum 3 characters.</p>

        <label>Email</label>
        <input type="email" formControlName="clientEmail"/>
        <p class="error" *ngIf="adoptionForm.controls.clientEmail.invalid && adoptionForm.controls.clientEmail.touched">Please enter a valid email.</p>
        <p class="error" *ngIf="adoptionForm.controls.clientEmail.errors?.invalidDomain && adoptionForm.controls.clientEmail.touched">{{adoptionForm.controls.clientEmail.errors.errorMessage}}.</p>

        <label>Your country</label>
        <select formControlName="countryCode">
            <option *ngFor="let c of countryList" [value]="c.code">{{c.name}}</option>
        </select>
        <label>Your message</label>
        <textarea formControlName="messageText">
        </textarea>
        
        <p class="error" *ngIf="adoptionForm.invalid">Please enter all the required information.</p>

        <button [disabled]="adoptionForm.invalid" class="call-button" (click)="showPopup = true">
            Send Message
        </button>
    </form>
</div>